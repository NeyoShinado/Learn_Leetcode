# ------------ 笔试总结 ------------ #


### @腾讯笔试
1.小明开一局游戏杀怪，有n只怪，一金币能换m血；杀第i只怪掉ci血，获得wi金；问开的这一局最多获得多少金币？（能一只都不杀）

2.给n组三元素向量A、B、C，AB是二次函数的两个系数，C是直线的斜率。问两曲线区域内的面积？

3.一组N*K的数组，若两行各元素对之和相等（a1+b1=a2+b2=...=ak+bk），这两行为“完美对”。问这组数组有多少个“完美对”？

4.给定一个数，求组成该数的素数对组合数。

5.给定一编码范围a~y的25字母，1-4位的编码按顺序写为a,aa,aaa,aaaa,aaab,...,b,ba,baa,...序号从0开始，求任意输入编码对应的序号。

6.给定一正整数，计算有多少对质数和等于这个正整数。

7.游戏需要用守卫覆盖长为L的河道，提供N个守卫，第i个守卫覆盖区间为[xi,yi]，问至少要多少个守卫覆盖整段河道，不能覆盖就输出-1。
>Summary:
1.贪心思想，覆盖一端的前提下，另一端尽可能远，这样的眼就是最少的




### @美团笔试
1.n人m科目，单科最高分的人有奖金，最终多少人获奖（不是发出多少奖）

2.二进制数的汉明距离，求n项数列的两数之间的最大距离
>Summary:
直接异或后使用布莱恩特

3.*n个避难所m个事件，事件为摧毁op=1或求救op=2，带有pos避难所位置。i避难所摧毁后返回最近避难所 i+1的位置，直至未摧毁避难所的位置为止或 -1（最近的都已摧毁），每个求救信号返回最近的避难所

4.n项数列二进制数位与为0代表不相似，问该数列各项是否有相似的数，有返回1，无返回-1

5.*字符串s若有子串s(l,r)符合ABA形式的字串（|A|≥k，|B|≥1），f(l,r)=1，否则=0，问s所有子串f(l, r) 的和

6.字符串集的最小前缀

7.*石堆合并

8.给出布尔表达式字符串，只含true、false、and、or四个单词。不合法返回error、合法则返回表达式结果。

9.给出模式串(含？*通配符)和目标串，返回能否匹配。

10.N个订单分配给N个司机。每个订单于不同司机的打分结果在N*N的矩阵中。一个订单只能拍给一位司机。求所有订单分配完分值最大的派单方案。

11.流水线产出有a-z编号，将字符串分割为尽可能多的片段，每个片段的字母不会在其他片段上出现。

12*.火星文由小写字母组成，但字母顺序未知。给出一组按火星文字典序正序排列的单词，求火星文字母的顺序。

13*.给定一棵树，小美小团在树中的任意两个节点上，他们都可以走去相邻节点或者不动。小美足够聪明且要去追小团，问小团最多能坚持多少步才被追上。

14.*给定一个正整数数列，最大值m。小美和小团分别从中取一个数l＜r，序列被分割成两部分的子序列0≤x≤l和r≤x≤m都是非降序列。问小美和小团有多少种取法。


# 2019编程汇总
13.给定一张包含N个节点，N-1条边的无向图(暗示无环)。问从节点1出发遍历所有点的最少步数。
>Summary:
1.相当于从根节点出发，所有路线走了两遍，除了最长的路径走了一遍

14.给定01字符串，至多K次机会将0改成1，求改后最长连续1子串的长度。
>Summary:
1.改0次数用完后，维护一个跨越k个0的滑动窗口，更新最大长度

15.N个花园各个花园要种ai朵花，一天能为[l, r]区间里的花园里各种一朵花，问至少多少天完成。
>Summary:
1.规律是一个由谷值分割开的山峰种植天数由最大值确定。可用单调栈先将各个峰的独立时间求出来，剩下的谷底都是公共时间。

16.路由器覆盖问题
直线上等距放置N台路由器，第i台路由器的信号强度为ai。问有多少台路由器能收到至少k台不同路由器的信号。
>Summary:
1.典型前缀和问题，信号的作用边界类似于函数的阶跃，进入范围“信号强度”+1，退出一个覆盖范围“强度”-1。故可以设立一个dp数组记录各位置的信号变化，增减的梯度直接由路由器叠加，每个位置收到的信号数由起点一直累加，具有差分数组的特性。




### @阿里笔试
1.!num_of_permutations
给出Ｔ行数，每行为字符串长ｎ，问用小写字母能组合出多少种字符串，使得字符串中各子串的重复字母数不超过3。最后数目会很大，结果对＊＊取余。


2.!robot_in_maze
机器人在迷宫中行走，从Ｓ处走往Ｅ处。指令为Ｆ前进，Ｌ左转，Ｒ右转，给出Ｔ组输入，第一行是ｈ，ｗ，ｎ；ｈ表示迷宫的行数，ｗ为迷宫的宽度，ｎ为命令行长度（命令行只有ＬＲ指令）。随后是ｈ行长为ｗ的字符串，“．＂表示可以通行，”＃“表示不能通行，且迷宫矩阵中只有一个Ｓ和Ｅ。允许在字符串的任意位置插入任意个Ｆ，问机器人能否到达终点。


3.!regular_expression_matching
正则匹配：给一字符串s，和字符规律p，返回能否正则匹配。s，p只含有小写字母且可能为空。
'.'匹配任意字符，“\*”匹配零个或多个前一元素。
注：.\可替代所有字符串




### @网易笔试
(1)拆分素数组合最多的方案
>Summary:
1.素数的判断脚本能否以for i -> 2:round(N/i)遍历，直到左右指针相交仍没有除数确认是素数

(2)给定数目的五种题型：E,EM,M,MH,H，要求易、中、难三种难度各一题组成一场考试。算出最多能组成多少场考试。

(3)有N件物品，价值分别为Vi。将其分给两人，要求各人获得等价的东西，多余物品扔掉。求扔掉价值最少的方案。
>Summary:
1.转化为(∑Ci)为费用的背包装满问题，复杂度为O(N∑Ci)。数组逆序排序后再01背包(模拟尽可能少丢弃的过程)，遍历完后从后往前回溯，找打dp[∑Ci/2]!=0的值即答案。




### @百度笔试
1.一个数组长为N，有M个5，其余是0，问用组内所有数字组成的能被90整除的最大值。

2.小明跳N级台阶，最少跳一步，最多跳M步，三次跳步里面不能有重复的步数，问有多少种跳法？
=======
1.给定长度为N的数组arr，元素为0或5，问能组成的被90整除的最大数字。

2.小明跳N级台阶，每步至少1级，至多M级，且三步里没有重复的跳法。问有多少种跳法。




### @拼多多笔试
1.返回一数组三个数的最大乘积；

2.实现字符串保村大整数的乘法，返回字符串类型；

3.给定起点和出口，寻找含墙、路、门和钥匙迷宫的最短路径。

4.探险家在二维迷宫中，给定起点-2和出口-3，迷宫中有墙-0、路-1、门-大写字母、钥匙-对应的小写字母，问离开的最短路径。（最多有十把锁）
难点在于多了锁，不能直接BFS从起点找最短路径。

5.有N个盒子，第i个盒子有i个球。一次选择一个数x，球数大于等于x的盒子里减去x个球。问最少操作多少次能把所有盒子的球清空。
>Summary:
贪心思想：每次应该去掉尽可能多的球，那应该选中位数，一次去掉mid^2个。

6.1~N个整数能组成任意排列{An}，定义F(x)=A1, x=1; |F(x-1)-Ax|, x>1。问F(N)的最大值和最小值是什么。
>Summary:
1.也是使用贪心思想，对于所有的x，F(x)的最小值都不小于0，最大值都不大于ｘ。由于Ｆ(x)的递归性质，可以猜想最小值的变化规律是周期的（可以验证该周期为4）。加之数列可以自由排列，所有情况都能讨论得出。

7*.给定M个a和n个b，用这两个字符拼成的字符串，按字典序返回第k个字符串。
>Summary:
1.通过记忆化递归算出不同组合的字符串数目(子树叶节点数)。然后逐一字符确定。

8.有N个骰子，第i个骰子能等概率投出1~Xi种结果。以所有骰子结果中的最大值作为最终结果，求最终结果的期望。
>Summary:
1.考察联合概率分布:p(x=k)=p(x<=k)-p(x<=k-1)

9.给定一m×n的网格，每个单元格上的数是对应行列的乘积。查找这表格中第k大的数。
>Summary:
1.二维阵的二分查找。


### @广发_test
1.数组实现大数高精度除法
数字过大无法表示时，将其存入数组或字符串。余数先设为0，从高位开始取一位数+余数*10后相除得到该位的商，一直循环直到除尽或达到要求精度位。

2.二分法优化幂运算

3.FIFO/LRU缺页中断次数；rear入队操作；CPU不能直接访问外存数据，访问前需先转入内存；索引使查询速度提升，也会使写入速度下降；SQLcount(1)、count(*)




### @老虎_test
1.*给定一整数N，将其划分成任意端整数，求其最大累乘值。
>Summary:
1.分治思想
①一个大于等于4的正整数N，存在一个2划分因子{m1,m2}使得因子乘积不小于N本身。由此将N拆分为多个“4”组成的和，获得最大累计乘积；
证明：N=m1+m2,m1=int(N/2),则m2≥N/2≥m1≥2。故有m1*m2≥2*m2≥m。
②由于≥4的部分能拆解为更小的因子，所以最终结果分解为2^r*3^k，且r≤2(因为2^3<3^2)。
最后N的划分为三种情况讨论：N=3r,res=3^r;N=3r+1,res=3^(r-1)*2*2;N=3r+2,res=3^r*2。




### @携程
1.有a,b两种长度砖块，从中任意选k块，增序输出所有可能的总长度。
2.*给定树序列化的字符串，子节点与父节点以"|"分隔，当前节点值与子节点以"`"分隔。以类似层次遍历的顺序排列（虽然节点数可能不止两个）




### @bilibili
1.判断一个数是不是归一数(循环求各位数的平方和，最终能得到1)




### @字节
1.给定前序中序序列，求树的叶节点数。

2.*有n段视频，时长L[i]，要求插入M个广告，广告等间隔为整数，最小为1。问最大间隔是多少，不能插入就返回0。

3.给定长度n整数数组和整数m，数组中任取k个数求和，返回sum%m的最大值。

4.给定二维平面整数点集，若图中任意点都不在x的右上方(即横纵坐标不同时大于x)，称x为最大的，求出所有的最大点。
>Summary:
使用贪心思想，由图形模拟可看出，最大点沿着某一维度递减遍历的话，另一个维度是递增的。只有这样，后者才能保证在第一维度小于前者的时候，第二维度超过它们。排序后再遍历即可。

5.*给定一整数(<=100)序列，要求求出一个区间，使得区间中最小数*区间所有数之和的值最大。返回最大值。
>Summary:
这题的核心在于遍历过程中求出每个数作为最小值对应的左右边界。
从左往右遍历，能看出某一元素的左右边界为比其更小的值或数组边界，值越小，其区间越大(使用时间越久)。可见，所有的区间终止于右端的更小点--哨兵。
①当值递减时，极小值为区间右端点，把左边的值弹出求和(此时需要知道对应点的左区间和，所以维护极小值的时候同时要维护其对应的左区间和)；
②当值递增时，极小值为区间左端点，把左边值弹出时同样需要求和。不同的是递减情况的求和是自左向右的，这里的求和是自右向左的；
③当极小值为谷值时，需要用到左右区间的和，右区间和在遍历回来的弹出过程已经更新，左区间的和因其极小点存在于左区间和的栈顶。
可见大值有先进先出的特点，可以用栈来实现，左区间和另用一个栈随着单调递减栈一起维护，右区间和在哨兵的while循环弹出里更新。
注：原数组需要在右端加入-1保证最小值和右端递增部分能弹出。


6.切蛋糕
给定一M*N尺寸的蛋糕，问能有多少种方法将其全部切为1*2的小蛋糕。

7.魔法求和
给定一长N的整数序列，最多能使用M次魔法，每次魔法可将选择的数值变为该数的阶乘。问能有多少种方案获得和为S的子序列（不同选法，或者在不同数上使用魔法都视为不同方案）。




### @奇安信
1.给定一字符串，空间或tab键分割单词。有两关键字--“undo” 实现删除前一个单词，“redo”实现在当前位置恢复上一个删除的单词。返回修改后的字符串。




### @小马智行
给定N条道路（或水平或垂直）和起点终点坐标，每个路口都有红路灯，以T1, T2, T3的时间间隔转换三个状态：S1--只许直行；S2--允许右转和直行；S3--允许左右转和直行。汽车以1格/秒的速度从起点出发，问到终点的最短时间。




### @小红书
1.装满的完全背包组合数

2.[边界问题分类讨论]N只怪，Hi血量数组，要求在T回合内杀光才能获胜。每回合可以普通攻击伤害1，或消耗1MP进行魔法攻击伤害X，一共M点魔法。问X至少多大才能获胜。不能获胜返回-1。

3.找出任意数组中未出现的最小自然数。




### 爱奇艺
https://www.nowcoder.com/questionTerminal/4cc5ae7ff3b84153b453e02970ecf63f?answerType=1&f=discussion
1.*N人玩游戏，每轮选一人当裁判，其他N-1人玩游戏。第i个人最少玩ai局，问最少需要多少轮。

2.*给定大小为N-1的01序列a，另有一个含元素1~N的排列P(1-N)，当ai=0时，Pi<Pi+1；ai=1时，Pi>Pi+1；问有多少符合要求的排列PN。结果可能很大，用1e9+7取模。

3.*ABC三人轮流取球，有红球m个，篮球n个。AB谁先取到红球就赢，若红球都被C取了，判B赢。问A获胜概率。




### 商汤
1.字母编码成数字：'a'->1,'b'->2,...,'z'->26，给定一串数字，问能有多少种可能的译码结果。不能译码就返回0。

2.*给定四个杯子，容量为ai。允许三种操作：给杯装满水；把水倒掉；A杯往B杯倒水，直至A杯倒完或B杯倒满。给定四个杯水的目标体积ti，问至少多少步操作能达到。不能返回-1.
N个杯子的倒水问题，尤其是区分杯子状态的倒水问题，用不了贝祖算法，没有特别高效的方法。每轮有N(N+1)种选择，一般采用BFS+关键字状态哈希剪枝查找最短操作数。
实现方面可以假设新增一个足够大的水杯(容量大于总水量)，每轮只有A杯往B杯倒水的操作，省去了加水倒水的讨论，代码可以更加简洁。

3.给定M×N的01地图，0表示水，1表示陆地。规定最下方的边为陆地，以此展开的四邻域为陆地。被陆地围住的水是噪声，判为陆地，问陆地面积多少。(被水围住的岛不算)
用一个递归函数可以实现连通域的值更改以及统计操作。只需要对上左右的海遍历出来并做标记，将非标记的海改为陆地。最后通过底边的任意一点开始连通域统计就能实现大陆的面积统计。


### 微众银行
1.给定一长度为N数组arr，为有多少个三元组(ai,aj,ak)，满足i<j<k，且ai≤aj≤ak。
>Solution
#!usr/etc/bin python
# coding:utf-8

'''
#@ Author: Neyo
#@ Date: 2020/9/27
#@ note: closest num -- hash set
'''


def threeCnt():
    # input
    N = int(input())
    arr = list(map(int, input().split()))

    # init
    res = 0
    leftCnt = []
    rightCnt = []
    stack = []
    for i in range(N):
        if not stack:
            leftCnt.append(0)
            stack.append([arr[i], 1])
            continue
        j = 0
        if arr[i] == stack[j][0]:
            leftCnt.append(stack[j][1])
            stack[j][1] += 1
            continue
        while arr[i] < stack[j][0]:
            stack[j][1] += 1
            j += 1
            if j == len(stack):
                break
        if j == len(stack):
            leftCnt.append(0)
            stack.insert(j, [arr[i], 1])
        elif arr[i] > stack[j][0]:
            leftCnt.append(stack[j][1])
            stack.insert(j, [arr[i], stack[j][1]+1])
        else:
            leftCnt.append(stack[j][1])
            stack[j][1] += 1
    stack = []
    for i in range(-1, -N-1, -1):
        if not stack:
            rightCnt.append(0)
            stack.append([arr[i], 1])
            continue
        j = 0
        if arr[i] == stack[j][0]:
            rightCnt.append(stack[j][1])
            stack[j][1] += 1
            continue
        while arr[i] > stack[j][0]:
            stack[j][1] += 1
            j += 1
            if j == len(stack):
                break
        if j == len(stack):
            rightCnt.append(0)
            stack.insert(j, [arr[i], 1])
        elif arr[i] < stack[j][0]:
            rightCnt.append(stack[j][1])
            stack.insert(j, [arr[i], stack[j][1]+1])
        else:
            rightCnt.append(stack[j][0])
            stack[j][1] += 1
    rightCnt = rightCnt[::-1]

    # traverse
    for i in range(N):
        res += leftCnt[i] * rightCnt[i]
    print(res)
    



# ------------ 面试总结 ------------ #
### 声网二面
1.数据库CAP原理
2.MySQL适用于什么场景
3.Google 的三篇经典论文介绍了什么核心技术
4.语句'Select * From table A group by x'的实现过程是怎样的
5.spark的RDD 为什么需要备份3份，而不是4份，这其中的设计思想是什么
6.RDD如何优化其性能（相对于MapReduce）
7.有无实际搭建数据库、建表的经历
8.spark中挂了服务器会怎样